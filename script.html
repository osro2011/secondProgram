<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title></title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <script src="http://koda.nu/simple.js">
        class Point {
            constructor(X, Y) {
                this.x = X;
                this.y = Y;
            }
        }
        
        class Vector {
            constructor(Velocity, Angle) {
                this.velocity = Velocity;
                this.angle = Angle * (Math.PI/180);
            };

            toXY() {
                this.x = this.velocity * Math.cos(this.angle);
                this.y = this.velocity * Math.sin(this.angle); 
                return [this.x, this.y]
            };

            bounce(bounceAngle) {
                var angleDeg = this.angle/(Math.PI/180);
                var answerDeg = (180 - (angleDeg + (2 * bounceAngle)))%360;
                this.angle = answerDeg * (Math.PI/180);
            };
        };

        class Cube {
            constructor(Point, Vector, Bounds, Size){
                this.coordinates = Point;
                this.velocity = Vector;
                this.bounds = Bounds;
                this.size = Size;
            };

            drawCube() {
                rectangle(this.coordinates.x, this.coordinates.y, this.size, this.size, "red");
                var add = this.velocity.toXY();
                this.coordinates.x += add[0];
                this.coordinates.y += add[1];

                if (this.coordinates.y > this.bounds.height - this.size) {
                    this.velocity.bounce(90);
                } else if (this.coordinates.y < 0) {
                    this.velocity.bounce(90);
                };

                if (this.coordinates.x > this.bounds.width - this.size) {
                    this.velocity.bounce(0);
                } else if (this.coordinates.x < 0){
                    this.velocity.bounce(0);
                };
            };
        };

        canvas = document.getElementById("canvas")
		bounds = {
			height: canvas.height,
			width: canvas.width
        };
        
        cube1 = new Cube(new Point(bounds.width/2, bounds.height/2), new Vector(10, 90), bounds, 20);

        function update(){
            clearScreen();
            cube1.drawCube();
            console.log(cube1.velocity.angle/(Math.PI/180));
        }
        </script>
    </body>
</html>
